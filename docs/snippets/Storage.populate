import { WiredWith } from '@exteranto/ioc'
import { Storage } from '@exteranto/storage'

export class MyService {

  @WiredWith(['sync'])
  private storage: Storage

  public execute () : void {
    this.storage.populate('id', 'some-unique-id')
      .then(() => return this.storage.get('id'))
      .then((id) =>
        // if id was set, assert id === old value
        // else assert id === 'some-unique-id'
      })
  }
}
